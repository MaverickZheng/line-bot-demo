# Line Bot ç”Ÿæ´»å°å¹«æ‰‹ 
![Static Badge](https://img.shields.io/badge/Python-3.8.10-blue)
![Static Badge](https://img.shields.io/badge/Flask-3.0.0-white)

ç¾åœ¨çš„ç”Ÿæ´»é›¢ä¸é–‹ç¶²è·¯ï¼Œè€ŒæŸ¥æ‰¾ç”Ÿæ´»è³‡è¨Šåˆéœ€è¦é »ç¹åˆ‡æ›ç¶²é ï¼Œä½¿ç”¨ä¸Šä¸¦ä¸æ–¹ä¾¿ã€‚å› æ­¤è—‰ç”±Line Botï¼Œæ•´åˆç”Ÿæ´»çš„ç›¸é—œè³‡è¨Šã€‚æœ¬å°ˆæ¡ˆç›®å‰æä¾›å¤©æ°£ã€é‡‘èã€æ¨‚é€ã€æ²¹åƒ¹ä»¥åŠä¸æ˜ä¾†é›»çš„æŸ¥è©¢åŠŸèƒ½ï¼Œ**åœ¨åœ–è¡¨æ–¹é¢ï¼Œä½¿ç”¨Pandaså’ŒMatplotlibæ•´ç†è³‡æ–™ä¸¦ç¹ªè£½åœ–è¡¨ï¼Œæ¥è‘—è—‰ç”±Imgurçš„APIï¼Œä¸Šå‚³åœ–è³‡ä¸¦å–å¾—åœ–ç‰‡é€£çµï¼Œå†å›å‚³çµ¦ç”¨æˆ¶ã€‚**


## å¤§ç¶±
- [ä½¿ç”¨é™åˆ¶](#ä½¿ç”¨é™åˆ¶)
- [å±•ç¤º](#å±•ç¤º)
- [åŠŸèƒ½](#åŠŸèƒ½)
- [å°ˆæ¡ˆç›®éŒ„](#å°ˆæ¡ˆç›®éŒ„)
- [åŸ·è¡Œç’°å¢ƒè¦æ±‚](#åŸ·è¡Œç’°å¢ƒè¦æ±‚)
- [å®‰è£èˆ‡åŸ·è¡Œ](#å®‰è£èˆ‡åŸ·è¡Œ)
- [åƒè€ƒè³‡æ–™](#åƒè€ƒè³‡æ–™)


## ä½¿ç”¨é™åˆ¶
* > æœ¬å°ˆæ¡ˆæ˜¯éƒ¨ç½²åœ¨å…è²»ç‰ˆçš„Renderä¸Šï¼Œæ¯ç•¶è¶…é15åˆ†é˜ç„¡ä»»ä½•äººä½¿ç”¨æ™‚ï¼Œæœƒé€²å…¥ä¼‘çœ ç‹€æ…‹ï¼Œå¯è—‰ç”±åˆ‡æ›é¸å–®ä¾†å–šé†’ï¼Œå–šé†’æ™‚éœ€ç­‰å¾…2~3åˆ†é˜ï¼Œæ¥è‘—å³å¯æ­£å¸¸ä½¿ç”¨ã€‚

* é‡‘èè³‡è¨Šçš„éƒ¨åˆ†ï¼Œè³‡æ–™ä¾†æºåˆ†åˆ¥ç‚ºï¼š[å°ç£éŠ€è¡Œ](https://rate.bot.com.tw/)(é»ƒé‡‘ã€å³æ™‚åŒ¯ç‡å ±åƒ¹)ã€[å¯Œè¯ç¶²](https://ww2.money-link.com.tw/Exchange/CrossRate.aspx)(äº¤å‰åŒ¯ç‡)ã€[é‰…äº¨ç¶²](https://www.cnyes.com/)(åŒ¯ç‡èµ°å‹¢ã€åŠ æ¬ŠæŒ‡æ•¸ã€æ«ƒè²·æŒ‡æ•¸ã€å€‹è‚¡è‚¡åƒ¹)ã€‚**é–‹ç™¼è€…ä¸ä¿è­‰è³‡æ–™çš„æ­£ç¢ºæ€§ã€‚**

[â«å›å¤§ç¶±](#å¤§ç¶±)


## å±•ç¤º
æƒæä»¥ä¸‹QRcodeï¼Œæˆ–æ˜¯ç›´æ¥ [é»æ“Š](https://lin.ee/uQJhNXf) åŠ å…¥å¥½å‹

![Alt text](line_qrcode.png)

[â«å›å¤§ç¶±](#å¤§ç¶±)


## åŠŸèƒ½
* â›… æŸ¥è©¢å¤©æ°£è³‡è¨Šï¼šæä¾›ç›®å‰ä½ç½®çš„å¤©æ°£æ¦‚æ³ã€å„åœ°å¤©æ°£é å ±ã€å¤©æ°£åœ–ã€‚ è³‡æ–™ä¾†æºï¼š[äº¤é€šéƒ¨ä¸­å¤®æ°£è±¡ç½²](https://www.cwa.gov.tw/V8/C/)

* ğŸ“ˆ æŸ¥è©¢é‡‘èè³‡è¨Šï¼šæä¾›é»ƒé‡‘ã€åŒ¯ç‡ã€è‚¡å¸‚çš„å³æ™‚å ±åƒ¹å’Œæ­·å²èµ°å‹¢åœ– ï¼ˆè‚¡å¸‚åƒ…æä¾›å°è‚¡çš„å³æ™‚å ±åƒ¹ï¼‰ã€‚è€ŒæŸ¥è©¢å³æ™‚å€‹è‚¡å ±åƒ¹çš„éƒ¨åˆ†ï¼Œå¯æ¥å—è‚¡ç¥¨åç¨±/ä»£è™Ÿçš„æ¨¡ç³Šæœå°‹ï¼Œä¾‹å¦‚è¼¸å…¥ã€Œ$$ q å°ç£50ã€ï¼Œæœƒæ”¶åˆ°ã€Œæ‚¨å¯èƒ½æƒ³æœå°‹ä»¥ä¸‹è‚¡ç¥¨åç¨±ï¼šå…ƒå¤§å°ç£50ã€å¯Œé‚¦å°50ã€åœ‹æ³°å°ç£é ˜è¢–50ã€çš„è¨Šæ¯ã€‚

* â˜ æŸ¥è©¢ä¾†é›»è³‡è¨Šï¼šæŸ¥è©¢ä¸æ˜ç°¡è¨Šèˆ‡é›»è©±è™Ÿç¢¼ã€‚ è³‡æ–™ä¾†æºï¼š[æŸ¥é›»è©±](https://whocall.cc/)

* ğŸ¤‘ æ¨‚é€å½©ï¼šç”¢ç”Ÿæ¨‚é€çš„æŠ•æ³¨è™Ÿç¢¼ï¼Œä»¥åŠæŸ¥è©¢å°ç£å½©åˆ¸çš„é–‹ççµæœã€‚ æ´¾å½©çµæœï¼š[å°ç£å½©åˆ¸](https://www.taiwanlottery.com/)

* â›½ï¸ æŸ¥è©¢æ²¹åƒ¹ï¼šæŸ¥è©¢ä¸­æ²¹æ²¹åƒ¹ã€‚ è³‡æ–™ä¾†æºï¼š[ä¸­æ²¹](https://www.cpc.com.tw/)

[â«å›å¤§ç¶±](#å¤§ç¶±)


## å°ˆæ¡ˆç›®éŒ„
```
.
+-- src
|   +-- TaipeiSansTCBeta-Regular.ttf  # ç¹é«”ä¸­æ–‡å­—é«”åŒ…
|   +-- code_area.json   # æ°£è±¡ç½²è¡Œæ”¿å€ä»£ç¢¼è½‰æ›åˆ—è¡¨
|   +-- code_city.json   # æ°£è±¡ç½²ç¸£å¸‚ä»£ç¢¼è½‰æ›åˆ—è¡¨
|   +-- code_city.json   # æ°£è±¡ç½²ç¸£å¸‚ä»£ç¢¼è½‰æ›åˆ—è¡¨
|   +-- stock_list.json  # è‚¡ç¥¨ä»£ç¢¼è½‰æ›åˆ—è¡¨
|
+-- app.py  # ä¸»ç¨‹å¼
+-- weather.py  # è™•ç†å¤©æ°£è³‡è¨Šã€çˆ¬å–è³‡æ–™ã€å›å‚³æ¨£æ¿è¨Šæ¯
+-- finance.py  # è™•ç†é‡‘èè³‡è¨Šã€çˆ¬å–è³‡æ–™ã€å›å‚³æ¨£æ¿è¨Šæ¯
+-- lottery.py  # è™•ç†æ¨‚é€é–‹çã€ç”¢ç”Ÿæ¨‚é€è™Ÿç¢¼ã€å›å‚³æ¨£æ¿è¨Šæ¯
+-- otherfunction.py  # è™•ç†æ²¹åƒ¹æŸ¥è©¢å’Œä¾†é›»æŸ¥è©¢ã€å›å‚³æ¨£æ¿è¨Šæ¯
+-- requirements.txt  # ç›¸ä¾æ¨¡çµ„
+-- .env.example  # ç’°å¢ƒè®Šæ•¸ç¯„ä¾‹
+-- build.sh   # éƒ¨ç½²åœ¨Renderä¸Šçš„è…³æœ¬
+-- README.md  # èªªæ˜æ–‡ä»¶
```
[â«å›å¤§ç¶±](#å¤§ç¶±)


## åŸ·è¡Œç’°å¢ƒè¦æ±‚
* æœ¬å°ˆæ¡ˆå»ºè­°åœ¨ Python 3.8.10 ã€ [Virtualenvwrapper](https://virtualenvwrapper.readthedocs.io/en/latest/) ç’°å¢ƒä¹‹ä¸‹åŸ·è¡Œ
* `.env` å¡«å¯«å…§å®¹å¯åƒè€ƒ [.env.example](.env.example)
* æ¨¡çµ„è¦æ±‚è©³è¦‹ [requirements.txt](requirements.txt)

[â«å›å¤§ç¶±](#å¤§ç¶±)


## å®‰è£èˆ‡åŸ·è¡Œ
### Line è¨­å®š
* è«‹åƒè€ƒ [å»ºç«‹ LINE Channel](https://steam.oxxostudio.tw/category/python/example/line-developer.html) å’Œ [å»ºç«‹ä¸¦ä¸²æ¥ Webhook](https://steam.oxxostudio.tw/category/python/example/line-webhook.html) å…©ç¯‡æ•™å­¸ï¼Œå®Œæˆå¿…è¦è¨­å®šã€‚è€ŒWebhook URLçš„è¨­å®šéƒ¨åˆ†ï¼Œéœ€è¦åœ¨ç¶²å€çµå°¾åŠ ä¸Š`/callback`
### æœ¬åœ°ç«¯ 
1. å®‰è£ [Python 3.8.10](https://www.python.org/downloads/release/python-3810/) (Linux å…å®‰è£)ï¼ŒWindwos éœ€å®‰è£ [virtualenvwrapper-win](https://pypi.org/project/virtualenvwrapper-win/)ã€Linux å‰‡æ˜¯å®‰è£[Virtualenvwrapper](https://virtualenvwrapper.readthedocs.io/en/latest/)ï¼Œä¸¦ä¸”æŒ‰ç…§å®˜æ–¹æ–‡ä»¶èªªæ˜é€²è¡Œè¨­å®š
2. æŒ‰ä»¥ä¸‹æ­¥é©Ÿæ“ä½œï¼Œæ¥è‘—åœ¨ `.env.example` ä¸­è¨­å®šç’°å¢ƒè®Šæ•¸ï¼Œæœ€å¾Œå°‡æª”åä¿®æ”¹ç‚º `.env`ã€‚å•Ÿå‹•æŒ‡ä»¤ç‚º `python app.py`
```shell
mkdir linebot
cd linebot
git clone https://github.com/cheng1103/line-bot-demo.git
mkvirtualenv linebot
pip install -r requirements.txt
```
### Render
* éƒ¨ç½²æ–¹æ³•å¯åƒè€ƒ [Render å®˜æ–¹æ–‡ä»¶](https://docs.render.com/deploy-flask)
* ä¸­æ–‡æ•™å­¸å¯ç§»è‡³[åƒè€ƒè³‡æ–™](#åƒè€ƒè³‡æ–™)ä¸­ **ç¬¬5é»** çš„å…§å®¹

[â«å›å¤§ç¶±](#å¤§ç¶±)


## åƒè€ƒè³‡æ–™
1. [LINE å®˜æ–¹æ–‡ä»¶](https://developers.line.biz/en/docs/messaging-api/)
2. [LINE BOT æ•™å­¸](https://steam.oxxostudio.tw/category/python/example/line-bot.html)
3. [[Python+LINE Botæ•™å­¸]æå‡ä½¿ç”¨è€…é«”é©—çš„æŒ‰éˆ•æ¨£æ¿è¨Šæ¯(Buttons template message)å¯¦ç”¨æŠ€å·§](https://www.learncodewithmike.com/2020/07/line-bot-buttons-template-message.html)
4. [é»‘å®¢æ¾ LINE Bot è³½å‰è£œå¸–](https://kanido386.github.io/2021/07/hackathon-line-hint/)
5. [å°‡ python flask Web app éƒ¨å±¬åˆ° Render](https://hackmd.io/@KszW-VhuTFiRIBfviwcT7Q/r1ZCbfSLj)
6. [ä½ çŸ¥é“å°å°ˆæ¡ˆä¾†èªªï¼ŒREADME.md æœ‰å¤šéº¼é‡è¦å—ï¼Ÿ â”€â”€ å·¥ç¨‹å¸«è¡€æ·šå²](https://medium.com/dean-lin/%E4%BD%A0%E7%9F%A5%E9%81%93%E5%B0%8D%E5%B0%88%E6%A1%88%E4%BE%86%E8%AA%AA-readme-md-%E6%9C%89%E5%A4%9A%E9%BA%BC%E9%87%8D%E8%A6%81%E5%97%8E-%E5%B7%A5%E7%A8%8B%E5%B8%AB%E8%A1%80%E6%B7%9A%E5%8F%B2-c0fb0908343e)

[â«å›å¤§ç¶±](#å¤§ç¶±)